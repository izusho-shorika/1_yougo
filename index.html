<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>全商 情報処理1級 用語クイズ（毎回ランダム）</title>
<style>
body{font-family:-apple-system,BlinkMacSystemFont,"Hiragino Kaku Gothic ProN","Noto Sans JP","Yu Gothic","Meiryo",sans-serif;margin:0;background:#f7f7f8;color:#111}
header{background:#111;color:#fff;padding:14px 18px;position:sticky;top:0;z-index:100}
h1{font-size:18px;margin:0}
.wrap{max-width:980px;margin:0 auto;padding:18px}
.panel{background:#fff;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,.06);padding:18px;margin-bottom:18px}
.stat{background:#f1f3f9;border-radius:10px;padding:8px 10px;font-size:13px;display:inline-block;margin-right:8px}
button,select{font-size:16px;padding:10px 12px;border-radius:10px;border:1px solid #ddd;background:#fff}
button{background:#3a6df0;color:#fff;border:none;cursor:pointer}
button:disabled{opacity:.6;cursor:not-allowed}
.q{border:1px solid #eee;border-radius:12px;padding:14px;margin:14px 0;background:#fff}
.stem{font-size:17px;line-height:1.6;margin-bottom:10px}
.choices{display:grid;gap:10px}
.choice{display:flex;align-items:center;gap:10px;padding:10px 12px;border:1px solid #e6e6e6;border-radius:10px;background:#fafafa}
.choice.correct{border-color:#3fb950;background:#e9f7ec}
.choice.wrong{border-color:#ff6a69;background:#feeeef}
.small{font-size:12px;color:#555}
.debug{background:#eef5ff;border:1px solid #bdd2ff;color:#0b3d91;padding:6px 8px;border-radius:8px;font-size:12px;margin-bottom:12px;display:none;white-space:pre-wrap}
/* ── スマホ時の余白強化 ───────────────────────────── */
@media (max-width: 640px) {
  /* 統計行の下に余白を追加 */
  .panel .stat:last-of-type {
    margin-right: 0; /* 最後のstatの右マージンをリセット */
  }
  /* セレクトとボタンに上マージンを付与して“行間”を開ける */
  #cat,
  #restart {
    display: inline-block;
    margin-top: 12px;     /* ← ここで“少し開ける” */
  }
}

/* 画面幅を問わず、ほんの少しだけ全体にゆとりを足したい場合は下も有効化 */
/*
#cat, #restart { margin-top: 8px; }
*/
</style>
</head><body>
<header><h1>全商 情報処理1級 用語クイズ（毎回ランダム）</h1></header>
<div class="small" style="display:block;margin-top:8px;text-align:center;">岡山東商業の皆さん使ってください！（出商：吉田）</div>
<div class="wrap">
  <div class="panel">
    <div id="debug" class="debug"></div>
    <div class="stat">進行：<span id="progress">0/0</span></div>
    <div class="stat">正答：<span id="correct">0</span></div>
    <div class="stat">正答率：<span id="rate">0%</span></div>
    <select id="cat"><option value="ALL">（すべてからランダム）</option>
      <option>システムの開発と運用</option><option>性能・障害管理</option>
      <option>ネットワークの構成</option><option>ネットワークの活用</option>
      <option>情報モラルとセキュリティ</option><option>問題解決の手法</option>
      <option>経営計画と管理</option>
    </select>
    <button id="restart" onclick="startQuiz()">出題し直す</button>
  </div>
  <div id="host"></div>
</div>
<script>
// ===== データ（必要に応じて増減可・各カテゴリ5語以上を推奨） =====
var DATA=[
{t:"ウォーターフォールモデル",c:"システムの開発と運用",d:"要件定義→設計→実装…の工程を順に進める大規模向き手法。"},
{t:"プロトタイピングモデル",c:"システムの開発と運用",d:"試作品に対する評価を反映しながら進める手法。"},
{t:"スパイラルモデル",c:"システムの開発と運用",d:"分割して反復し完成度を高める手法。"},
{t:"要件定義",c:"システムの開発と運用",d:"必要な機能・要求をまとめシステムを定義する工程。"},
{t:"外部設計",c:"システムの開発と運用",d:"利用者視点で画面や帳票を設計する工程。"},
{t:"内部設計",c:"システムの開発と運用",d:"アルゴリズムや入出力など詳細設計。"},
{t:"プログラム設計",c:"システムの開発と運用",d:"各プログラムの内部構造を設計。"},
{t:"RASIS",c:"性能・障害管理",d:"信頼性・可用性・保守性・完全性・安全性の総称。"},
{t:"稼働率",c:"性能・障害管理",d:"一定時間内で正常動作している時間の割合。"},
{t:"MTBF",c:"性能・障害管理",d:"平均故障間隔。"},
{t:"MTTR",c:"性能・障害管理",d:"平均修復時間。"},
{t:"フェールセーフ",c:"性能・障害管理",d:"障害時でも被害最小化し安全性を保つ。"},
{t:"フェールソフト",c:"性能・障害管理",d:"一部停止でも全体停止を避ける。"},
{t:"フールプルーフ",c:"性能・障害管理",d:"誤操作でも安全性・信頼性を保つ。"},
{t:"NAS",c:"性能・障害管理",d:"ネットワーク直結の記憶装置。"},
{t:"RAID",c:"性能・障害管理",d:"複数HDDを組み合わせる方式。"},
{t:"OSI参照モデル",c:"ネットワークの構成",d:"ISOが定めた7階層の通信モデル。"},
{t:"ルータ",c:"ネットワークの構成",d:"IPで転送・経路選択を行う装置。"},
{t:"ゲートウェイ",c:"ネットワークの構成",d:"異なるプロトコル間を変換する装置。"},
{t:"TCP/IP",c:"ネットワークの構成",d:"標準的なプロトコル群。"},
{t:"DNS",c:"ネットワークの構成",d:"ドメイン名とIPの相互変換。"},
{t:"VPN",c:"ネットワークの構成",d:"インターネット上の仮想専用回線。"},
{t:"サブネットマスク",c:"ネットワークの構成",d:"IPからネットワーク部を取り出す値。"},
{t:"ポート番号",c:"ネットワークの構成",d:"アプリ識別用の補助アドレス。"},
{t:"シンクライアント",c:"ネットワークの活用",d:"端末最小機能、アプリはサーバ集中管理。"},
{t:"Cookie",c:"ネットワークの活用",d:"Web訪問情報をPCに保存。"},
{t:"MIME",c:"ネットワークの活用",d:"メールで多様な形式を扱う規格。"},
{t:"VoIP",c:"ネットワークの活用",d:"ネットワークで音声を送受信。"},
{t:"Webメール",c:"ネットワークの活用",d:"ブラウザでメール操作する方式。"},
{t:"共通鍵暗号方式",c:"情報モラルとセキュリティ",d:"同一の鍵で暗号化・復号。"},
{t:"公開鍵暗号方式",c:"情報モラルとセキュリティ",d:"公開鍵と秘密鍵で処理。"},
{t:"電子署名",c:"情報モラルとセキュリティ",d:"本人性と改ざん無の確認。"},
{t:"認証局",c:"情報モラルとセキュリティ",d:"ディジタル証明書を発行する機関。"},
{t:"HTTPS",c:"情報モラルとセキュリティ",d:"HTTPに暗号化を付加した通信。"},
{t:"ログファイル",c:"情報モラルとセキュリティ",d:"利用・通信状況の記録。"},
{t:"ブレーンストーミング",c:"問題解決の手法",d:"四原則に基づく自由発想法。"},
{t:"KJ法",c:"問題解決の手法",d:"カード化→グループ化→図解→文章化。"},
{t:"決定表",c:"問題解決の手法",d:"条件と処理を表形式に整理。"},
{t:"DFD",c:"問題解決の手法",d:"データ流れと処理関係を表す図。"},
{t:"PPM分析",c:"問題解決の手法",d:"成長率×占有率で4象限。"},
{t:"コンプライアンス",c:"経営計画と管理",d:"法令遵守＋倫理・社会貢献。"},
{t:"セキュリティポリシー",c:"経営計画と管理",d:"情報セキュリティの基本方針。"},
{t:"ERP",c:"経営計画と管理",d:"経営資源を一元管理し最適化。"},
{t:"CRM",c:"経営計画と管理",d:"顧客関係を深める手法。"},
{t:"BPR",c:"経営計画と管理",d:"業務の分析・最適化・再構築。"},
{t:"SaaS",c:"経営計画と管理",d:"アプリをサービスとして提供。"},
{t:"PaaS",c:"経営計画と管理",d:"アプリ実行環境の提供。"},
{t:"IaaS",c:"経営計画と管理",d:"インフラ（仮想サーバ等）を提供。"}
];

// ===== ここから最小JSロジック（ES5のみ） =====
var host=document.getElementById('host'),catSel=document.getElementById('cat');
var progress=document.getElementById('progress'),correctEl=document.getElementById('correct'),rateEl=document.getElementById('rate');
var correctCount=0, currentIndex=-1, order=[], pool=[], currentQ=null, currentChoices=[], selectedIdx=-1, answered=false;

function shuffle(a){ for(var i=a.length-1;i>0;i--){ var j=Math.floor(Math.random()*(i+1)); var t=a[i]; a[i]=a[j]; a[j]=t; } return a; }
function byCat(cat){ if(cat==='ALL') return DATA.slice(0); var out=[],i; for(i=0;i<DATA.length;i++) if(DATA[i].c===cat) out.push(DATA[i]); return out; }
function pickDistractors(q,src,k){ var o=[],i; for(i=0;i<src.length;i++){ if(src[i].t!==q.t) o.push(src[i]); } shuffle(o); var r=[]; for(i=0;i<k && i<o.length;i++) r.push(o[i]); return r; }
function updateStats(){ var total=order.length; var solved=Math.min(currentIndex+1,total); progress.textContent=solved+"/"+total; correctEl.textContent=""+correctCount; var base=(solved>0?solved:1); var rate= total? Math.round((correctCount/base)*100):0; rateEl.textContent=(isNaN(rate)?0:rate)+"%"; }

function renderQuestion(){
  var qIdx=order[currentIndex]; currentQ=pool[qIdx];
  var same=byCat(currentQ.c); var src=(same.length>=5? same: DATA);
  var distract=pickDistractors(currentQ,src,4); currentChoices=shuffle([currentQ].concat(distract)).slice(0,5);
  // DOM
  host.innerHTML='';
  var wrap=document.createElement('div'); wrap.className='q';
  var stem=document.createElement('div'); stem.className='stem';
  stem.textContent="Q"+(currentIndex+1)+". 次の説明に当てはまる用語はどれですか？\n「"+currentQ.d+"」";
  wrap.appendChild(stem);
  var list=document.createElement('div'); list.className='choices';
  for(var i=0;i<currentChoices.length;i++){
    (function(i){
      var ch=currentChoices[i]; var lab=document.createElement('label'); lab.className='choice';
      lab.innerHTML='<input type="radio" name="ans"><div><strong>'+(i+1)+'. '+ch.t+'</strong><br><span class="small">'+ch.c+'</span></div>';
      lab.onclick=function(){ selectedIdx=i; submitBtn.disabled=false; lab.querySelector('input').checked=true; };
      list.appendChild(lab);
    })(i);
  }
  wrap.appendChild(list);
  var btnRow=document.createElement('div'); btnRow.style.marginTop='10px';
  var submitBtn=document.createElement('button'); submitBtn.textContent='回答する'; submitBtn.disabled=true;
  submitBtn.onclick=function(){
    if(answered||selectedIdx<0) return; answered=true;
    var ok=(currentChoices[selectedIdx].t===currentQ.t); if(ok) correctCount++;
    // 色付け＆解説
    var correctIdx=-1,j; for(j=0;j<currentChoices.length;j++){ if(currentChoices[j].t===currentQ.t){ correctIdx=j; break; } }
    var labs=list.querySelectorAll('.choice');
    for(j=0;j<labs.length;j++){
      if(j===correctIdx) labs[j].className='choice correct';
      if(j===selectedIdx && j!==correctIdx) labs[j].className='choice wrong';
    }
    var exp=document.createElement('div'); exp.className='small'; exp.style.marginTop='10px'; exp.style.borderTop='1px dashed #ddd'; exp.style.paddingTop='10px';
    var html='<strong>'+(ok?'正解！':'不正解')+'</strong> — 正解「'+currentQ.t+'」の定義：'+currentQ.d;
    html+='<div class="small" style="margin-top:8px">各選択肢の意味：</div>';
    for(j=0;j<currentChoices.length;j++){ html+='<div class="small"><strong>'+(j+1)+'. '+currentChoices[j].t+'</strong> — '+currentChoices[j].d+'</div>'; }
    exp.innerHTML=html; wrap.appendChild(exp); nextBtn.disabled=false; updateStats();
  };
  btnRow.appendChild(submitBtn);
  var nextBtn=document.createElement('button'); nextBtn.textContent='次の問題'; nextBtn.style.marginLeft='8px'; nextBtn.disabled=true;
  nextBtn.onclick=function(){ if(currentIndex+1>=order.length){ // 終了
      host.innerHTML=''; var done=document.createElement('div'); done.className='q';
      done.textContent='全'+order.length+'問が終了。正答 '+correctCount+'（'+Math.round(correctCount/order.length*100)+'%）'; host.appendChild(done);
    }else{ currentIndex++; answered=false; selectedIdx=-1; renderQuestion(); }
    updateStats();
  };
  btnRow.appendChild(nextBtn); wrap.appendChild(btnRow);
  host.appendChild(wrap);
  updateStats();
}

function startQuiz(){
  correctCount=0; currentIndex=0; answered=false; selectedIdx=-1;
  var cat=catSel.value; var all=byCat(cat); if(all.length<5) all=DATA.slice(0);
  // ★ 起動のたびに乱数シードが変わるよう、現在時刻を利用
  var seed=(new Date()).getTime()%2147483647; // ざっくり
  // 乱数を進めるダミー（端末差を平滑化）
  Math.random(); Math.random();
  pool=all.slice(0);
  // シャッフル
  shuffle(pool);
  var n=Math.min(30,pool.length); order=[]; for(var i=0;i<n;i++) order.push(i);
  renderQuestion();
}

// 初期起動時に自動開始
startQuiz();

// キーボード操作（外付けキーボード向け）
document.addEventListener('keydown',function(e){
  var k=e.key||e.keyCode;
  var labels=host.querySelectorAll('.choice');
  if(k>='1'&&k<='5'){ var i=parseInt(k,10)-1; if(labels[i]) labels[i].click(); }
  else if(k==='Enter'||k===13){ var btns=host.getElementsByTagName('button'); if(btns[0]&&!btns[0].disabled) btns[0].click(); }
  else if((k+'').toLowerCase()==='n'){ var btns=host.getElementsByTagName('button'); if(btns[1]&&!btns[1].disabled) btns[1].click(); }
},false);
</script>
</body></html>
